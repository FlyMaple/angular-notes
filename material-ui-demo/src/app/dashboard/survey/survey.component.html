<button mat-button (click)="isLinear=!isLinear">切換</button>
<div>isLinear: {{isLinear}}</div>
<form [formGroup]="surveyForm">
    <mat-horizontal-stepper [linear]="isLinear">
        <mat-step label="個人資訊" formGroupName="basicQuestions" [stepControl]="surveyForm.get('basicQuestions')" editable="false">
            <h4>提供個人資訊</h4>
            <div>
                <mat-form-field>
                    <input type="text" matInput name="name" placeholder="姓名" formControlName="name" required>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <input type="text" matInput name="nickname" placeholder="暱稱">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <input type="text" matInput name="country" placeholder="國家" formControlName="country" [matAutocomplete]="countries">
                    <mat-autocomplete #countries="matAutocomplete" [displayWith]="displayCountry">
                        <mat-option *ngFor="let country of countries$ | async" [value]="country">
                            <span [innerHTML]="highlightFiltered(country.name)"></span>
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <input type="text" matInput name="majorTech" placeholder="代表技術" formControlName="majorTech" [matAutocomplete]="majorList">
                    <mat-autocomplete #majorList="matAutocomplete">
                        <mat-optgroup *ngFor="let major of majorTechList" [label]="major.name">
                            <mat-option *ngFor="let item of major.items" [value]="item">{{item}}</mat-option>
                        </mat-optgroup>
                    </mat-autocomplete>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <textarea name="intro_self" matInput matTextareaAutosize placeholder="自我介紹" formControlName="intro" [errorStateMatcher]="earlyErrorStateMatcher"
                        required></textarea>
                    <mat-hint>
                        <div>簡單介紹一下你的興趣吧!</div>
                    </mat-hint>
                    <mat-error *ngIf="surveyForm.get('basicQuestions').get('intro').hasError('required')">請記得輸入自我介紹喔!</mat-error>
                    <mat-error *ngIf="surveyForm.get('basicQuestions').get('intro').hasError('minlength')">至少輸入10個字吧!</mat-error>
                </mat-form-field>
            </div>
            <div>
                <mat-form-field>
                    <input type="text" matInput name="birthday" placeholder="生日" [matDatepicker]="birthdayPicker" [min]="minDate" [max]="maxDate" [matDatepickerFilter]="familyDayFilter" (dateInput)="logDateInput($event)" (dateChange)="logDateChange($event)" formControlName="birthday">
                    <mat-datepicker-toggle [for]="birthdayPicker" matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #birthdayPicker [startAt]="startDate" disabled="false" touchUi="true"></mat-datepicker>
                </mat-form-field>
                <button mat-raised-button color="accent" (click)="birthdayPicker.opened=true">Open</button>
            </div>
            <button mat-raised-button matStepperNext>下一步</button>
        </mat-step>
        <mat-step label="詳細問題" optional>
            <h4>主要問題內容</h4>
            <button mat-raised-button matStepperPrevious>上一步</button>
            <button mat-raised-button matStepperNext>下一步</button>
        </mat-step>
        <mat-step label="其他">
            <h4>其他問題</h4>
            <button mat-raised-button matStepperPrevious>上一步</button>
        </mat-step>
    </mat-horizontal-stepper>
</form>
<mat-vertical-stepper>
    <mat-step>
        <ng-template matStepLabel>
            <i>個人資訊</i>
        </ng-template>
        <h4>提供個人資訊</h4>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>
            <b>詳細問題</b>
        </ng-template>
        <h4>主要問題內容</h4>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel>
            <u>其他</u>
        </ng-template>
        <h4>其他問題</h4>
    </mat-step>
</mat-vertical-stepper>
